!function(){function t(){document.documentElement.innerHTML=["<head><title>Motion Emulator</title>",'<style title="protect">',"html { height: "+l+"px; width: 300px; }","body { display: none !important; }","body#"+r+" { display: block !important; }","body#"+r+" * { display: block !important; font-family: sans-serif !important; }","body { background: white !important; margin-top: "+l+"px; overflow: hidden; }","#pov { height: 170px; position: relative !important; -webkit-perspective: 500; -moz-perspective: 500px; -o-perspective: 500; cursor: move; }","#controls { position: relative !important; z-index: 1; padding: 10px; padding-bottom: 0; }","#preview { display: block !important; margin: 20px auto; max-width: 100%; width: 100px; height: 170px; -moz-transform-style: preserve-3d; -webkit-transform-style: preserve-3d; -o-transform-style: preserve-3d;  }","#preview div { width: 100%; height: 170px; position: absolute; top: 0; left: 0; -webkit-backface-visibility: hidden; -moz-backface-visibility: hidden; -o-backface-visibility: hidden; }","#front { background: url("+n+") no-repeat center; }",a.threeD?"#back { background: url("+o+") no-repeat center; -webkit-transform: rotateY(180deg); -moz-transform: rotateY(180deg); -o-transform: rotateY(180deg); }":"#back { display: none; }","label { display: block !important; clear: both; }","label input[type=range] { display:inline-blockÂ !important; float: right; }","#buttons { margin-top: 2px; }","output { float: right; }","#south { position: absolute; bottom: 0; width: 100%; left: 0; text-align: center; color: #aaa; }","#wrapper"+r+" { backgroud: #fff; position: absolute; z-index: 99999; top: 0; left: 0; width: 100%; height: 100%; }","body#"+r+" #wobble { display: inline !important; }","</style>","</head>",'<body id="'+r+'">','<div id="wrapper'+r+'">',"<div id=controls>","<label for=gamma>gamma <input min=-180 max=180 id=gamma value=0 type=range step=0.001>  <output id=og>0</output></label>","<label for=beta>beta <input min=-180 max=180 id=beta value=0 type=range step=0.001> <output id=ob>0</output></label>","<label for=alpha>alpha <input min=0 max=360 id=alpha value=180 type=range step=0.001> <output id=oa>180</output></label>","<label for=motion>x / y / z <output id=motion>0 / 0 / 0</output></label>","<label for=wobble>Emulate slight shake<input type=checkbox id=wobble></label>","<div id=buttons><button id=flat>Flat on its back</button> ","</div>","</div>","<div id=pov>","<div id=preview>","<div id=front></div>","<div id=back></div>","</div>","</div>","<span id=south>south</span>","</div>","</body>"].join("")}var e=document.createElement("div"),i=e.style,a={motion:!window.DeviceMotionEvent,orientation:!window.DeviceOrientationEvent,transform:"MozTransform"in i?"MozTransform":"WebkitTransform"in i?"WebkitTransform":"OTransform"in i&&"OTransform"};i[a.transform]="rotate3d(0,0,0,0deg)",i[a.transform]&&(a.threeD=!0),a.orientation,window.DeviceOrientationEvent=function(){},a.motion,window.DeviceMotionEvent=function(){};try{document.createEvent("DeviceOrientationEvent"),a.prepareEvent=function(t,e){var i="deviceorientation"===t,a=i?"DeviceOrientationEvent":"DeviceMotionEvent",n=document.createEvent(a);if(i?n["init"+a](t,!0,!0,e.alpha,e.beta,e.gamma,!0):n["init"+a](t,!0,!0,null,e.accelerationIncludingGravity,null,null),i)try{n.webkitCompassHeading=e.alpha}catch(t){}return n}}catch(t){a.prepareEvent=function(t,e){var i,a=document.createEvent("HTMLEvents");a.initEvent(t,!0,!0),a.eventName=t;for(i in e)a[i]=e[i];return a}}var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAACpCAYAAABEbEGLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoxODkwMDQ2NTNDNEYxMUUxQTYyOTk2M0QwMjU4OThGOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoxODkwMDQ2NjNDNEYxMUUxQTYyOTk2M0QwMjU4OThGOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE4OTAwNDYzM0M0RjExRTFBNjI5OTYzRDAyNTg5OEY4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE4OTAwNDY0M0M0RjExRTFBNjI5OTYzRDAyNTg5OEY4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jKamsAAAAtNJREFUeNrs2t1t01AYgGG3dACPkA3qEcIlV5QJSCdAnaAwAWKCsgFs0HQChwmaS+6SThCOKwuigtP4J+ln9LzSRyWaRMmTE8fHcJLt3yRNkeY8U9VDmkWa+ZAPOktTptmYf84qzU29GDtXQG49111XM7xuUy3QfF/oa2DHAbeijwReABp8vjVh+zI8zFw4fBxv7q3qF1jdp1s7Qx2ut9UfZ0Gh+26BJ313dANXRDuvXg38xuf1NjrKoeTxMBKlq/rCzlCt01zWP0N0GujjtjzQ4y4iYS+DPJd8ZI/bCTtKHw7wmLNIJwBngbCn9QZgOcDZSF4/XqgzrUjY26ds0//xZPs0E2zYgg1bsGHDFuwRt2sHOcfTqSJruPi1C/s1t07dZg2XGxxGHLNhCzZswYYNW7BhCzZs2IINW7BhCzZs2IINW7BhwxZs2IINW7BhwxZs2IING7ZgwxZs2IING7ZgwxZs2LAFG7Zgw4Yt2LAFG7Zgw4Yt2LAFGzZswYYt2LAFGzZswYYt2LBhCzZswYYt2LBhCzZswYYNW7BhCzZs2IINW7BhCzZs2IINW7BhwxZs2IIdvbMdv7vG06lJF+yP3BxGYAs2bGcj8VukmadZb/1dkWaaJh/Li6hO8TaB57YGbSofwWvYjAH7psWiqd6QVWTsyMfsr2kuW9x+3vL2viDrlmmuOtzve/0mwW7RlydfhG36BLv9Cu3zqVjCbgf2kve3qRl5OezjtY6KPXnh+x/sMPIj4POa9oSOhr3YfnLRdlv3PV7YTfSdcBnwCX7uAF0E3apfbD/JWdAnOWsJvRrLp7TM4l6Meu4S6kXgi1C/V/XJk5VRRj1tqq953GV/X89+X/+MuhN+1/TLqIeTMU759BP5quEUZZqp7+WCN2l+7nNjK3zAFb3vt3sJr9X0/l9kM+g7Z1WfMT27az1puQ2uVvu5Q/JjD9mff/Hfq18CDADFyFpnRW9JPwAAAABJRU5ErkJggg==",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAACpCAIAAADLDtbcAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3OTFCRTMwQTNDNjMxMUUxQTYyOTk2M0QwMjU4OThGOCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3OTFCRTMwQjNDNjMxMUUxQTYyOTk2M0QwMjU4OThGOCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjE4OTAwNDZCM0M0RjExRTFBNjI5OTYzRDAyNTg5OEY4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjE4OTAwNDZDM0M0RjExRTFBNjI5OTYzRDAyNTg5OEY4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+zWf2VgAABt9JREFUeNrsnU1P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",d=document.documentElement,l=340,r="b"+(+new Date).toString(32),m=function(){var t=document.body,e=document.head||document.getElementsByTagName("head"),i={src:""};return t&&"SCRIPT"==t.lastChild.nodeName?i=t.lastChild:e&&e.length&&"SCRIPT"==e.lastChild.nodeName&&(i=e.lastChild),i}().src;-1!==window.location.hash.indexOf("tiltremote")||window.remoteTilt?function(){function e(t){s&&(s["on"+t.type]&&s["on"+t.type](t),s.dispatchEvent(t),s!=window&&window.dispatchEvent(t))}function i(){e(a.prepareEvent("deviceorientation",b))}function n(){e(a.prepareEvent("devicemotion",{accelerationIncludingGravity:E}))}function o(){i(),n()}function l(t,e){return t*=1,"beta"==e?(E.z=parseFloat((9.81*Math.sin(v*(t-90))).toFixed(10)),E.y=parseFloat((9.81*Math.sin(v*(t-180))).toFixed(10)),c=t,t=parseFloat((90*Math.sin(t*v)).toFixed(10))):"gamma"==e&&(E.x=parseFloat((-9.81*Math.sin(v*(t-180))).toFixed(10))),t}function r(t){var e=t.target;"INPUT"==e.nodeName&&(b[e.id]=l(e.value,e.id),t.manual||o())}function m(){for(var t in I)r({manual:!0,target:{id:t,nodeName:"INPUT",value:I[t].value}});o()}function u(){shake=setInterval(function(){I.alpha.value=parseFloat(I.alpha.value)+Math.random()*(Math.random()<.5?1:-1)*.05,I.beta.value=parseFloat(I.beta.value)+Math.random()*(Math.random()<.5?1:-1)*.05,I.gamma.value=parseFloat(I.gamma.value)+Math.random()*(Math.random()<.5?1:-1)*.05,m()},100)}function p(){clearInterval(shake)}var s=window.opener;window.remoteTilt&&!s&&(s=window),t();var v=Math.PI/180,c=0,b={alpha:180,beta:0,gamma:0},E={x:0,y:0,z:-9.81},w=!1,g={x:null,y:null},h=document.getElementById("pov"),I={alpha:document.getElementById("alpha"),beta:document.getElementById("beta"),gamma:document.getElementById("gamma")},A=document.getElementById("preview"),R=document.getElementById("motion");window.update=function(t){a.transform&&(A.style[a.transform]="rotateY("+b.gamma+"deg) rotate3d(1,0,0, "+-1*c+"deg)",A.parentNode.style[a.transform]="rotate("+(180-b.alpha)+"deg)");for(var e in b)document.getElementById("o"+e.substring(0,1)).value=parseFloat(b[e].toFixed(2)),"beta"==e?I.beta.value=c:I[e].value=b[e];R.value=[E.x.toFixed(2),E.y.toFixed(2),E.z.toFixed(2)].join(" / ")},setTimeout(function(){[].forEach.call(document.styleSheets,function(t){"protect"!=t.title&&t.ownerNode.parentNode.removeChild(t.ownerNode)})}),d.addEventListener("input",r,!1),h.addEventListener("mousedown",function(t){w=!0,g.x=t.pageX,g.y=t.pageY,t.preventDefault()},!1),d.addEventListener("mousemove",function(t){if(w){var e=g.x-t.pageX;dy=g.y-t.pageY,g.x=t.pageX,g.y=t.pageY,I.gamma.value-=e,I.beta.value-=dy,m()}},!1),d.addEventListener("mouseup",function(t){w=!1},!1),d.addEventListener("click",function(t){var e=t.target;"BUTTON"==e.nodeName?("flat"==e.id&&(I.alpha.value=180,I.beta.value=0,I.gamma.value=0),m()):"wobble"==e.id&&(e.checked?u():p())},!1),window.addEventListener("devicemotion",function(){},!1),window.addEventListener("deviceorientation",function(t){null!==t.alpha&&(b.alpha=t.alpha),null!==t.beta&&(b.beta=t.beta),null!==t.gamma&&(b.gamma=t.gamma),update()},!1),window.addEventListener("keydown",function(t){var e=window.location.origin;32===t.keyCode&&window.postMessage("bomb",e)}),update()}():function(t){t.match(/key=(.+?)\b/),remoteTiltWindow=window.open(window.location.toString()+"#tiltremote","Tilt","width=300,height="+l)}(m)}();